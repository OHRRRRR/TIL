# 1. 상태관리란?

상태 관리는 프론트엔드 개발에서 컴포넌트 간 데이터 전달과 이벤트 통신을 관리하는 중요한 기술입니다.

웹 애플리케이션에서는 UI와 데이터 상태가 지속적으로 변화하며, 이 상태를 효율적으로 관리하는 것이 필요합니다. 상태는 주로 유저 정보, UI의 상태, 서버와의 상호작용을 통해 변하는 데이터를 포함하며, 이를 관리하기 위한 규칙과 원칙들이 있습니다.

## 1️⃣상태 관리의 원칙

### 1) 단일 출처의 진리 (Single Source of Truth)

상태는 하나의 특정 위치에서만 관리되어야 하며, 이를 통해 데이터 중복을 방지하고 일관성을 유지할 수 있습니다.

### 2) 상태는 읽기 전용 (State is Read-Only)

상태는 직접 수정되지 않으며, 변화를 위해서는 액션을 통해야 합니다.

### 3) 변화는 순수 함수로 관리 (Changes are Made with Pure Functions)

상태 변화는 순수 함수에서 이루어지며, 부작용을 최소화하고 예측 가능한 상태 변화가 이루어집니다.

## 2️⃣상태 관리의 필요성

### 1) 컴포넌트 간 데이터 공유

여러 컴포넌트 간에 데이터를 효과적으로 전달하고 공유할 수 있게 해줍니다.

### 2) UI 상태 관리

사용자와의 상호작용에 따라 변하는 UI 상태를 관리하여 사용자 경험을 제어합니다.

### 3) 복잡한 비즈니스 로직 처리

비즈니스 로직에 의존하는 상태 관리 및 변화를 명확하게 처리합니다.

### 4) 데이터 흐름 예측 및 관리: 상태 관리를 통해 데이터 흐름을 예측 가능하고 추적 가능하게 만듭니다.

</br>

# 2. 상태관리의 역사

### 1) 과거의 상태 관리

jQuery 시대에는 data()나 HTML5의 data- 속성을 사용하여 상태를 관리했습니다. 그러나 상태가 DOM에 흩어져 있어 추적이 어려운 문제점이 있었습니다.

### 2) 현대의 상태 관리

AngularJS, React, Vue, Svelte와 같은 프레임워크의 등장으로 상태 관리가 데이터 중심으로 발전했습니다. Redux와 같은 라이브러리가 등장하여 전역 상태를 관리하고 Props drilling 문제를 해결하는 데 중요한 역할을 했습니다.

### 3) 앞으로의 상태 관리

시간 상태 관리와 서버리스 환경이 강조되며, 상태 관리 기술이 발전하고 있습니다. 특히, PWA와 같은 웹과 앱의 경계가 허물어지고 실시간 처리가 중요해지면서, 상태 관리는 더욱 고도화될 것입니다.

# 3. 상태관리 라이브러리의 종류

### 1️⃣ Redux

Redux는 중앙 집중식 상태 관리 라이브러리로, 상태를 전역에서 관리하고 단방향 데이터 흐름을 따릅니다.

### 특징

- **전역 상태 관리**:
  Redux는 상태를 전역적으로 관리하여 어느 컴포넌트에 상태를 두어야 할지 고민을 줄입니다.
- **단방향 데이터 흐름**:
  데이터 흐름이 단방향으로 흐르도록 하여 예측 가능한 상태 업데이트를 제공합니다.
- **불변성 유지**:
  불변성 유지가 중요하며, Immutable.js 등의 라이브러리가 사용될 수 있습니다.
- **Flux 아키텍처 준수**:
  Flux 아키텍처를 따르며, 미들웨어(예: redux-thunk, redux-saga)를 사용하여 dispatch 관리가 필요합니다.

### ✅ 장점

- 커뮤니티와 지원이 풍부하며, 테스트 용이성이 뛰어납니다.
- 단방향 데이터 흐름 덕분에 상태 변화가 예측 가능합니다.

### ✅ 단점

- 구조가 복잡하고, 작은 애플리케이션에서도 많은 코드가 필요합니다.
- 러닝 커브가 상대적으로 높습니다.

### 2️⃣ MobX

MobX는 Redux와 유사한 상태 관리 라이브러리이지만 Redux보다 간결하고 객체 지향적인 구조를 가진다는 특징이 있습니다.

MobX는 상태 변화를 자동으로 추적해주는 것이 가장 큰 특징으로, React에 종속적이지 않으며 Redux와는 다르게 제한 없이 여러 개의 store를 사용할 수 있습니다.

### 특징

- **React에 종속성 없음**:
  React에 종속적이지 않고, Redux와는 다르게 store에 제한이 없습니다.

- **자동 추적**:
  모든 상태 변화가 자동으로 추적되어 리액트 컴포넌트를 업데이트합니다.

- **객체 지향적**:
  객체 지향적이며, JAVA Spring과 유사한 아키텍처를 제공하여 서버 개발자들에게 친숙합니다.

- **Decorator 사용**:
  Redux의 보일러플레이트 코드 대신 데코레이터를 사용하여 깔끔한 코드 작성이 가능합니다.

- **캡슐화**:
  Mobx Config 설정을 통해 State를 메서드를 통해서만 변경할 수 있도록 캡슐화가 가능합니다.

- **불변성 유지 불필요**:
  Redux에서처럼 불변성을 유지하기 위한 노력이 필요하지 않습니다.

### ✅ 장점

- 코드가 간결하며, 자동 추적을 통해 상태 변화 관리가 용이합니다.
- React에 종속되지 않아서 다른 프레임워크에서도 사용 가능합니다.

### ✅ 단점

- 복잡한 애플리케이션에서는 상태 관리가 예기치 않게 어려워질 수 있습니다.
- 비즈니스 로직과 상태 간의 관계를 명확히 해야 할 필요가 있습니다.

### 3️⃣ Recoil

Recoil은 비교적 최근에 나온 상태 관리 라이브러리로, Facebook에서 개발했으며 React에 가장 적합한 상태 관리 철학을 가지고 있습니다.

Recoil은 React의 내장 상태 관리 기능과 관련된 고통을 줄이는 것을 목표로 하며, 2020년 중반에 릴리스되었습니다. Recoil은 Reactive 메커니즘을 탑재하고 있어 동적인 기능을 쉽게 구현할 수 있습니다.

Recoil은 context API를 기반으로 하며, 함수형 컴포넌트에서만 사용 가능합니다.

### 특징

- **비동기 처리 및 동시성 모드**:
  비동기 처리를 기반으로 하여 동시성 모드를 제공하므로, 다른 비동기 처리 라이브러리에 의존할 필요가 없습니다.

- **간결한 상태 관리**:
  Atom과 Selector를 통한 간결한 상태 관리를 지향하며, 코드 분할이 증분 및 분산되어 가능합니다.

- **쉬운 러닝커브**:
  Atom과 Selector만으로도 구현이 가능하고, 러닝커브가 낮아 초심자가 사용하기에도 적합합니다.

### ✅ 장점

- 코드가 간결하며, 자동 추적을 통해 상태 변화 관리가 용이합니다.
- React에 종속되지 않아서 다른 프레임워크에서도 사용 가능합니다.

### ✅ 단점

- 복잡한 애플리케이션에서는 상태 관리가 예기치 않게 어려워질 수 있습니다.
- 비즈니스 로직과 상태 간의 관계를 명확히 해야 할 필요가 있습니다.
